<ion-content [style.--background]="'#141e30'" class="login-page">
  <div class="login-wrapper">
    <div class="login-card">
      <img src="assets/images/login_logo.jpg" class="login-logo" />
      <h2 class="login-title">Accede a tu cuenta</h2>
      <p class="login-subtitle">Bienvenido de nuevo</p>

      <form [formGroup]="loginForm" (ngSubmit)="loginUser(loginForm.value)" class="login-form">
        <!-- Email -->
        <ion-item class="input-group">
          <ion-label class="custom-label" position="floating">Correo electrónico</ion-label>

          <ion-input formControlName="email"></ion-input>
        </ion-item>
        <div class="error-text" *ngFor="let validation of validation_messages.email">
          <div *ngIf="loginForm.get('email')?.hasError(validation.type) && loginForm.get('email')?.dirty">
            {{ validation.mensaje }}
          </div>
        </div>

        <!-- Password -->
        <ion-item class="input-group">
          <ion-label class="custom-label"  position="floating">Contraseña</ion-label>
          <ion-input type="password" formControlName="password"></ion-input>
        </ion-item>
        <div class="error-text" *ngFor="let validation of validation_messages.password">
          <div *ngIf="loginForm.get('password')?.hasError(validation.type) && loginForm.get('password')?.dirty">
            {{ validation.mensaje }}
          </div>
        </div>

        <ion-button expand="block" type="submit" class="login-btn" [disabled]="!loginForm.valid">
          Iniciar sesión
        </ion-button>

        <div *ngIf="errorMenssage" class="error-box">
  {{ errorMenssage }}
</div>

      </form>

      <div class="login-bottom">
        <span>¿No tienes cuenta?</span>
        <a class="login-link" (click)="goRegister()">Regístrate</a>
      </div>
    </div>
  </div>
</ion-content>
